<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>MyTracksy - Company Profile Dashboard</title>
    <meta name="description" content="Advanced company profile with industry-specific analytics and business intelligence">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="sri-lanka-tax-engine.js"></script>
    <script src="behavioral-engagement-system.js"></script>
    <style>
        :root {
            /* Technology Theme */
            --tech-primary: #2563eb;
            --tech-secondary: #1e40af;
            --tech-accent: #3b82f6;
            --tech-bg: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%);
            
            /* Healthcare Theme */
            --health-primary: #059669;
            --health-secondary: #047857;
            --health-accent: #10b981;
            --health-bg: linear-gradient(135deg, #064e3b 0%, #065f46 100%);
            
            /* Legal Theme */
            --legal-primary: #1e3a8a;
            --legal-secondary: #1e40af;
            --legal-accent: #fbbf24;
            --legal-bg: linear-gradient(135deg, #1e2124 0%, #374151 100%);
            
            /* Manufacturing Theme */
            --mfg-primary: #ea580c;
            --mfg-secondary: #c2410c;
            --mfg-accent: #fb923c;
            --mfg-bg: linear-gradient(135deg, #7c2d12 0%, #9a3412 100%);
            
            /* Restaurant Theme */
            --food-primary: #dc2626;
            --food-secondary: #b91c1c;
            --food-accent: #ef4444;
            --food-bg: linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%);
            
            /* Retail Theme */
            --retail-primary: #7c3aed;
            --retail-secondary: #6d28d9;
            --retail-accent: #8b5cf6;
            --retail-bg: linear-gradient(135deg, #581c87 0%, #6b21a8 100%);
            
            /* Service Industry Theme */
            --service-primary: #0891b2;
            --service-secondary: #0e7490;
            --service-accent: #06b6d4;
            --service-bg: linear-gradient(135deg, #164e63 0%, #0f766e 100%);
            
            /* Finance Theme */
            --finance-primary: #059669;
            --finance-secondary: #047857;
            --finance-accent: #10b981;
            --finance-bg: linear-gradient(135deg, #064e3b 0%, #065f46 100%);
            
            /* Education Theme */
            --education-primary: #7c2d12;
            --education-secondary: #9a3412;
            --education-accent: #ea580c;
            --education-bg: linear-gradient(135deg, #451a03 0%, #7c2d12 100%);
            
            /* Default Colors */
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            --success-color: #00c851;
            --warning-color: #ffbb33;
            --error-color: #ff4444;
            --dark-color: #2c3e50;
            --light-color: #ffffff;
            --gray-100: #f8f9fa;
            --gray-200: #e9ecef;
            --gray-300: #dee2e6;
            --gray-400: #ced4da;
            --gray-500: #adb5bd;
            --gray-600: #6c757d;
            --gray-700: #495057;
            --gray-800: #343a40;
            --gray-900: #212529;
            --shadow-sm: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            --shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 1rem 3rem rgba(0, 0, 0, 0.175);
            --border-radius: 8px;
            --border-radius-lg: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Theme Classes */
        .theme-technology {
            --primary-color: var(--tech-primary);
            --secondary-color: var(--tech-secondary);
            --accent-color: var(--tech-accent);
            background: var(--tech-bg);
        }

        .theme-healthcare {
            --primary-color: var(--health-primary);
            --secondary-color: var(--health-secondary);
            --accent-color: var(--health-accent);
            background: var(--health-bg);
        }

        .theme-legal {
            --primary-color: var(--legal-primary);
            --secondary-color: var(--legal-secondary);
            --accent-color: var(--legal-accent);
            background: var(--legal-bg);
        }

        .theme-manufacturing {
            --primary-color: var(--mfg-primary);
            --secondary-color: var(--mfg-secondary);
            --accent-color: var(--mfg-accent);
            background: var(--mfg-bg);
        }

        .theme-food {
            --primary-color: var(--food-primary);
            --secondary-color: var(--food-secondary);
            --accent-color: var(--food-accent);
            background: var(--food-bg);
        }

        .theme-retail {
            --primary-color: var(--retail-primary);
            --secondary-color: var(--retail-secondary);
            --accent-color: var(--retail-accent);
            background: var(--retail-bg);
        }

        .theme-service {
            --primary-color: var(--service-primary);
            --secondary-color: var(--service-secondary);
            --accent-color: var(--service-accent);
            background: var(--service-bg);
        }

        .theme-finance {
            --primary-color: var(--finance-primary);
            --secondary-color: var(--finance-secondary);
            --accent-color: var(--finance-accent);
            background: var(--finance-bg);
        }

        .theme-education {
            --primary-color: var(--education-primary);
            --secondary-color: var(--education-secondary);
            --accent-color: var(--education-accent);
            background: var(--education-bg);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 50%, var(--accent-color) 100%);
            min-height: 100vh;
            color: var(--dark-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 1000;
            padding: 1rem 0;
            transition: var(--transition);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .nav-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn-secondary {
            background: var(--gray-200);
            color: var(--gray-700);
        }

        .btn-secondary:hover {
            background: var(--gray-300);
            transform: translateY(-2px);
        }

        .main-content {
            margin-top: 80px;
            padding: 2rem;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .profile-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius-lg);
            padding: 3rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .profile-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
        }

        .company-header {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .company-logo {
            width: 120px;
            height: 120px;
            border-radius: var(--border-radius-lg);
            background: var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--gray-500);
            box-shadow: var(--shadow);
        }

        .company-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: var(--border-radius-lg);
        }

        .company-info h1 {
            font-size: 3rem;
            font-weight: 800;
            color: var(--dark-color);
            margin-bottom: 0.5rem;
        }

        .company-tagline {
            font-size: 1.3rem;
            color: var(--gray-600);
            margin-bottom: 1rem;
        }

        .company-meta {
            display: flex;
            gap: 2rem;
            font-size: 1rem;
            color: var(--gray-600);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-link {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: var(--transition);
            font-size: 1.2rem;
        }

        .social-link:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow);
        }

        .social-link.linkedin { background: #0077b5; }
        .social-link.facebook { background: #3b5998; }
        .social-link.instagram { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .social-link.twitter { background: #1da1f2; }
        .social-link.website { background: var(--primary-color); }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .analytics-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .kpi-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .kpi-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin: 0 auto 1rem;
        }

        .kpi-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--dark-color);
            margin-bottom: 0.5rem;
        }

        .kpi-label {
            color: var(--gray-600);
            font-weight: 500;
        }

        .kpi-change {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.25rem;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .kpi-change.positive {
            color: var(--success-color);
        }

        .kpi-change.negative {
            color: var(--error-color);
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 1rem;
        }

        .activity-feed {
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid var(--gray-200);
            transition: var(--transition);
        }

        .activity-item:hover {
            background: var(--gray-100);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 0.25rem;
        }

        .activity-time {
            font-size: 0.9rem;
            color: var(--gray-500);
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 1rem;
            }

            .profile-header {
                padding: 2rem;
            }

            .company-header {
                flex-direction: column;
                text-align: center;
            }

            .company-info h1 {
                font-size: 2rem;
            }

            .company-meta {
                flex-direction: column;
                gap: 0.5rem;
            }

            .analytics-grid {
                grid-template-columns: 1fr;
            }

            .kpi-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Tax Compliance Dashboard Styles */
        .tax-compliance-section {
            margin-top: 3rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.98);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--gray-200);
        }

        .section-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--dark-color);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }

        .section-subtitle {
            font-size: 1.1rem;
            color: var(--gray-600);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Compliance Status Cards */
        .compliance-status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .compliance-card {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 2px solid transparent;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .compliance-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-color);
            transition: var(--transition);
        }

        .compliance-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-color);
        }

        .compliance-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .compliance-content h3 {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 0.75rem;
        }

        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .status-badge.active {
            background: rgba(0, 200, 81, 0.1);
            color: var(--success-color);
        }

        .status-badge.warning {
            background: rgba(255, 187, 51, 0.1);
            color: var(--warning-color);
        }

        .status-badge.urgent {
            background: rgba(255, 68, 68, 0.1);
            color: var(--error-color);
        }

        .compliance-content p {
            color: var(--gray-600);
            margin-bottom: 0.25rem;
            font-size: 0.9rem;
        }

        .btn-compliance {
            width: 100%;
            padding: 0.75rem 1rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-compliance:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* Tax Tools Grid */
        .tax-tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .tax-tool-card {
            background: white;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-200);
            overflow: hidden;
            transition: var(--transition);
        }

        .tax-tool-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .tool-header {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 1.5rem;
        }

        .tool-header h3 {
            margin: 0;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tool-content {
            padding: 1.5rem;
        }

        .input-group {
            margin-bottom: 1rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--gray-700);
        }

        .tax-input, .tax-select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--gray-200);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .tax-input:focus, .tax-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .calculation-result {
            background: var(--gray-100);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin: 1rem 0;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--gray-200);
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-item.total {
            font-weight: 700;
            color: var(--primary-color);
            background: rgba(102, 126, 234, 0.05);
            padding: 0.75rem;
            border-radius: var(--border-radius);
            margin-top: 0.5rem;
        }

        .btn-calculate {
            width: 100%;
            padding: 0.75rem;
            background: var(--success-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-calculate:hover {
            background: #00b347;
            transform: translateY(-2px);
        }

        /* Tax Reminders Section */
        .tax-reminders-section {
            margin-bottom: 3rem;
        }

        .reminders-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .reminders-header h3 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .reminders-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .reminder-card {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--gray-300);
            transition: var(--transition);
        }

        .reminder-card.urgent {
            border-left-color: var(--error-color);
            background: rgba(255, 68, 68, 0.02);
        }

        .reminder-card.warning {
            border-left-color: var(--warning-color);
            background: rgba(255, 187, 51, 0.02);
        }

        .reminder-card.normal {
            border-left-color: var(--success-color);
            background: rgba(0, 200, 81, 0.02);
        }

        .reminder-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .reminder-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .reminder-card.urgent .reminder-icon {
            background: rgba(255, 68, 68, 0.1);
            color: var(--error-color);
        }

        .reminder-card.warning .reminder-icon {
            background: rgba(255, 187, 51, 0.1);
            color: var(--warning-color);
        }

        .reminder-card.normal .reminder-icon {
            background: rgba(0, 200, 81, 0.1);
            color: var(--success-color);
        }

        .reminder-content h4 {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 0.5rem;
        }

        .reminder-content p {
            color: var(--gray-600);
            margin-bottom: 0.5rem;
        }

        .reminder-countdown {
            font-size: 0.9rem;
            font-weight: 600;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            display: inline-block;
        }

        .reminder-card.urgent .reminder-countdown {
            background: rgba(255, 68, 68, 0.1);
            color: var(--error-color);
        }

        .reminder-card.warning .reminder-countdown {
            background: rgba(255, 187, 51, 0.1);
            color: var(--warning-color);
        }

        .reminder-card.normal .reminder-countdown {
            background: rgba(0, 200, 81, 0.1);
            color: var(--success-color);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 1rem;
        }

        .btn-small {
            background: var(--primary-color);
            color: white;
        }

        .btn-small:hover {
            background: var(--secondary-color);
            transform: translateY(-1px);
        }

        .btn-small.btn-edit {
            background: var(--warning-color);
            margin-right: 0.5rem;
        }

        .btn-small.btn-delete {
            background: var(--error-color);
        }

        /* Employee Management */
        .employee-management-section {
            margin-bottom: 2rem;
        }

        .employee-table-container {
            background: white;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-200);
        }

        .employee-table {
            width: 100%;
            border-collapse: collapse;
        }

        .employee-table th {
            background: var(--gray-100);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: var(--gray-700);
            border-bottom: 2px solid var(--gray-200);
        }

        .employee-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--gray-200);
            color: var(--gray-700);
        }

        .employee-table tr:hover {
            background: var(--gray-100);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .tax-compliance-section {
                padding: 1rem;
                margin-top: 2rem;
            }

            .section-title {
                font-size: 2rem;
                flex-direction: column;
                gap: 0.5rem;
            }

            .compliance-status-grid,
            .tax-tools-grid,
            .reminders-grid {
                grid-template-columns: 1fr;
            }

            .reminders-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .employee-table-container {
                overflow-x: auto;
            }

            .employee-table {
                min-width: 800px;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo" id="companyLogo">
                <i class="fas fa-chart-line"></i>
                MyTracksy
            </a>
            <div class="nav-actions">
                <a href="company-setup.html" class="btn btn-secondary">
                    <i class="fas fa-edit"></i>
                    Edit Profile
                </a>
                <a href="index.html" class="btn btn-primary">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <!-- Company Profile Header -->
        <div class="profile-header">
            <div class="company-header">
                <div class="company-logo" id="companyLogoDisplay">
                    <i class="fas fa-building"></i>
                </div>
                <div class="company-info">
                    <h1 id="companyName">Company Name</h1>
                    <p class="company-tagline" id="companyTagline">Your company tagline here</p>
                    <div class="company-meta">
                        <div class="meta-item">
                            <i class="fas fa-calendar"></i>
                            <span>Founded <span id="companyFounded">2020</span></span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-users"></i>
                            <span id="companyEmployees">1-10 employees</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span id="companyLocation">Location</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-industry"></i>
                            <span id="companyCategory">Business</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="companyDescription" style="margin-bottom: 1.5rem; color: var(--gray-600); line-height: 1.6;">
                Company description will appear here...
            </div>

            <div class="social-links" id="socialLinks">
                <!-- Social links will be populated dynamically -->
            </div>
        </div>

        <!-- KPI Cards -->
        <div class="kpi-grid">
            <div class="kpi-card">
                <div class="kpi-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="kpi-value" id="monthlyRevenue">LKR 2.5M</div>
                <div class="kpi-label">Monthly Revenue</div>
                <div class="kpi-change positive">
                    <i class="fas fa-arrow-up"></i>
                    +12.5% from last month
                </div>
            </div>
            
            <div class="kpi-card">
                <div class="kpi-icon">
                    <i class="fas fa-coins"></i>
                </div>
                <div class="kpi-value" id="monthlyExpenses">LKR 1.8M</div>
                <div class="kpi-label">Monthly Expenses</div>
                <div class="kpi-change negative">
                    <i class="fas fa-arrow-down"></i>
                    -3.2% from last month
                </div>
            </div>
            
            <div class="kpi-card">
                <div class="kpi-icon">
                    <i class="fas fa-percentage"></i>
                </div>
                <div class="kpi-value" id="profitMargin">28%</div>
                <div class="kpi-label">Profit Margin</div>
                <div class="kpi-change positive">
                    <i class="fas fa-arrow-up"></i>
                    +5.8% from last month
                </div>
            </div>
            
            <div class="kpi-card" id="industryKpi">
                <div class="kpi-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="kpi-value" id="industryKpiValue">94</div>
                <div class="kpi-label" id="industryKpiLabel">Industry Score</div>
                <div class="kpi-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span id="industryKpiChange">+2.1% this quarter</span>
                </div>
            </div>
        </div>

        <!-- Analytics Dashboard -->
        <div class="analytics-grid">
            <!-- Revenue Chart -->
            <div class="analytics-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fas fa-chart-area"></i>
                        Revenue Trends
                    </h3>
                </div>
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
            </div>

            <!-- Expense Breakdown -->
            <div class="analytics-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fas fa-chart-pie"></i>
                        Expense Categories
                    </h3>
                </div>
                <div class="chart-container">
                    <canvas id="expenseChart"></canvas>
                </div>
            </div>

            <!-- Activity Feed -->
            <div class="analytics-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fas fa-clock"></i>
                        Recent Activity
                    </h3>
                </div>
                <div class="activity-feed" id="activityFeed">
                    <!-- Activity items will be populated dynamically -->
                </div>
            </div>

            <!-- Industry Specific Analytics -->
            <div class="analytics-card" id="industryAnalytics">
                <div class="card-header">
                    <h3 class="card-title" id="industryAnalyticsTitle">
                        <i class="fas fa-industry"></i>
                        Industry Analytics
                    </h3>
                </div>
                <div class="chart-container">
                    <canvas id="industryChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Sri Lankan Tax Compliance Dashboard -->
        <div class="tax-compliance-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-file-invoice-dollar"></i>
                    Sri Lankan Tax Compliance Dashboard
                </h2>
                <p class="section-subtitle">Complete tax management and compliance for Sri Lankan businesses</p>
            </div>

            <!-- Tax Compliance Status Cards -->
            <div class="compliance-status-grid">
                <div class="compliance-card vat-status">
                    <div class="compliance-icon">
                        <i class="fas fa-percentage"></i>
                    </div>
                    <div class="compliance-content">
                        <h3>VAT Registration</h3>
                        <div class="status-badge active">Active</div>
                        <p>TIN: 123456789V</p>
                        <p>Rate: 15%</p>
                    </div>
                    <div class="compliance-action">
                        <button class="btn-compliance" onclick="manageVATFiling()">
                            <i class="fas fa-file-alt"></i>
                            File VAT Return
                        </button>
                    </div>
                </div>

                <div class="compliance-card corporate-tax-status">
                    <div class="compliance-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="compliance-content">
                        <h3>Corporate Tax</h3>
                        <div class="status-badge warning">Due Soon</div>
                        <p>Rate: 24%</p>
                        <p>Next Filing: March 31, 2025</p>
                    </div>
                    <div class="compliance-action">
                        <button class="btn-compliance" onclick="calculateCorporateTax()">
                            <i class="fas fa-calculator"></i>
                            Calculate Tax
                        </button>
                    </div>
                </div>

                <div class="compliance-card epf-etf-status">
                    <div class="compliance-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="compliance-content">
                        <h3>EPF/ETF Compliance</h3>
                        <div class="status-badge active">Up to Date</div>
                        <p>EPF: 12% + 8%</p>
                        <p>ETF: 3%</p>
                    </div>
                    <div class="compliance-action">
                        <button class="btn-compliance" onclick="manageEPFETF()">
                            <i class="fas fa-user-friends"></i>
                            Manage Employees
                        </button>
                    </div>
                </div>

                <div class="compliance-card withholding-tax-status">
                    <div class="compliance-icon">
                        <i class="fas fa-hand-holding-usd"></i>
                    </div>
                    <div class="compliance-content">
                        <h3>Withholding Tax</h3>
                        <div class="status-badge active">Tracked</div>
                        <p>Various Rates: 2.5% - 15%</p>
                        <p>Total WHT: LKR 125,000</p>
                    </div>
                    <div class="compliance-action">
                        <button class="btn-compliance" onclick="trackWithholdingTax()">
                            <i class="fas fa-chart-line"></i>
                            View Reports
                        </button>
                    </div>
                </div>
            </div>

            <!-- Tax Calculation Tools -->
            <div class="tax-tools-grid">
                <div class="tax-tool-card">
                    <div class="tool-header">
                        <h3><i class="fas fa-percentage"></i> VAT Calculator</h3>
                    </div>
                    <div class="tool-content">
                        <div class="input-group">
                            <label>Amount (LKR)</label>
                            <input type="number" id="vatAmount" placeholder="100,000" class="tax-input">
                        </div>
                        <div class="input-group">
                            <label>VAT Type</label>
                            <select id="vatType" class="tax-select">
                                <option value="15">Standard VAT (15%)</option>
                                <option value="0">Zero-rated</option>
                                <option value="exempt">Exempt</option>
                            </select>
                        </div>
                        <div class="calculation-result">
                            <div class="result-item">
                                <span>VAT Amount:</span>
                                <span id="vatCalculated">LKR 0</span>
                            </div>
                            <div class="result-item total">
                                <span>Total (Incl. VAT):</span>
                                <span id="vatTotal">LKR 0</span>
                            </div>
                        </div>
                        <button class="btn-calculate" onclick="calculateVAT()">Calculate VAT</button>
                    </div>
                </div>

                <div class="tax-tool-card">
                    <div class="tool-header">
                        <h3><i class="fas fa-building"></i> Corporate Tax Calculator</h3>
                    </div>
                    <div class="tool-content">
                        <div class="input-group">
                            <label>Taxable Income (LKR)</label>
                            <input type="number" id="corporateIncome" placeholder="5,000,000" class="tax-input">
                        </div>
                        <div class="input-group">
                            <label>Company Type</label>
                            <select id="companyType" class="tax-select">
                                <option value="24">Standard Company (24%)</option>
                                <option value="14">Small Company (14%)</option>
                                <option value="28">Financial Institution (28%)</option>
                            </select>
                        </div>
                        <div class="calculation-result">
                            <div class="result-item">
                                <span>Tax Rate:</span>
                                <span id="corporateRate">24%</span>
                            </div>
                            <div class="result-item total">
                                <span>Corporate Tax:</span>
                                <span id="corporateTaxAmount">LKR 0</span>
                            </div>
                        </div>
                        <button class="btn-calculate" onclick="calculateCorporateTax()">Calculate Tax</button>
                    </div>
                </div>

                <div class="tax-tool-card">
                    <div class="tool-header">
                        <h3><i class="fas fa-users"></i> EPF/ETF Calculator</h3>
                    </div>
                    <div class="tool-content">
                        <div class="input-group">
                            <label>Employee Salary (LKR)</label>
                            <input type="number" id="employeeSalary" placeholder="150,000" class="tax-input">
                        </div>
                        <div class="input-group">
                            <label>Number of Employees</label>
                            <input type="number" id="employeeCount" placeholder="10" class="tax-input">
                        </div>
                        <div class="calculation-result">
                            <div class="result-item">
                                <span>Employee EPF (8%):</span>
                                <span id="employeeEPF">LKR 0</span>
                            </div>
                            <div class="result-item">
                                <span>Employer EPF (12%):</span>
                                <span id="employerEPF">LKR 0</span>
                            </div>
                            <div class="result-item">
                                <span>Employer ETF (3%):</span>
                                <span id="employerETF">LKR 0</span>
                            </div>
                            <div class="result-item total">
                                <span>Total Monthly Cost:</span>
                                <span id="totalEPFETF">LKR 0</span>
                            </div>
                        </div>
                        <button class="btn-calculate" onclick="calculateEPFETF()">Calculate EPF/ETF</button>
                    </div>
                </div>
            </div>

            <!-- Tax Filing Reminders -->
            <div class="tax-reminders-section">
                <div class="reminders-header">
                    <h3><i class="fas fa-bell"></i> Tax Filing Reminders</h3>
                    <button class="btn-secondary" onclick="addCustomReminder()">
                        <i class="fas fa-plus"></i> Add Custom Reminder
                    </button>
                </div>
                <div class="reminders-grid">
                    <div class="reminder-card urgent">
                        <div class="reminder-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="reminder-content">
                            <h4>VAT Return - January 2025</h4>
                            <p>Due: February 20, 2025</p>
                            <div class="reminder-countdown">5 days remaining</div>
                        </div>
                        <div class="reminder-actions">
                            <button class="btn-small" onclick="startVATFiling()">File Now</button>
                        </div>
                    </div>

                    <div class="reminder-card warning">
                        <div class="reminder-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="reminder-content">
                            <h4>Corporate Tax Return</h4>
                            <p>Due: March 31, 2025</p>
                            <div class="reminder-countdown">45 days remaining</div>
                        </div>
                        <div class="reminder-actions">
                            <button class="btn-small" onclick="prepareCorporateTax()">Prepare</button>
                        </div>
                    </div>

                    <div class="reminder-card normal">
                        <div class="reminder-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="reminder-content">
                            <h4>EPF/ETF Returns</h4>
                            <p>Due: March 15, 2025</p>
                            <div class="reminder-countdown">30 days remaining</div>
                        </div>
                        <div class="reminder-actions">
                            <button class="btn-small" onclick="generateEPFETFReports()">Generate Reports</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Employee Management for EPF/ETF -->
            <div class="employee-management-section">
                <div class="section-header">
                    <h3><i class="fas fa-user-friends"></i> Employee Management for EPF/ETF</h3>
                    <button class="btn-primary" onclick="addEmployee()">
                        <i class="fas fa-user-plus"></i> Add Employee
                    </button>
                </div>
                
                <div class="employee-table-container">
                    <table class="employee-table">
                        <thead>
                            <tr>
                                <th>Employee ID</th>
                                <th>Name</th>
                                <th>EPF Number</th>
                                <th>Basic Salary</th>
                                <th>Employee EPF (8%)</th>
                                <th>Employer EPF (12%)</th>
                                <th>ETF (3%)</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="employeeTableBody">
                            <tr>
                                <td>EMP001</td>
                                <td>Kasun Perera</td>
                                <td>12345678</td>
                                <td>LKR 150,000</td>
                                <td>LKR 12,000</td>
                                <td>LKR 18,000</td>
                                <td>LKR 4,500</td>
                                <td>
                                    <button class="btn-small btn-edit" onclick="editEmployee('EMP001')">Edit</button>
                                    <button class="btn-small btn-delete" onclick="deleteEmployee('EMP001')">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>EMP002</td>
                                <td>Nilmini Silva</td>
                                <td>87654321</td>
                                <td>LKR 120,000</td>
                                <td>LKR 9,600</td>
                                <td>LKR 14,400</td>
                                <td>LKR 3,600</td>
                                <td>
                                    <button class="btn-small btn-edit" onclick="editEmployee('EMP002')">Edit</button>
                                    <button class="btn-small btn-delete" onclick="deleteEmployee('EMP002')">Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <script>
        let companyData = {};
        let charts = {};

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadCompanyData();
            setupCharts();
            loadActivityFeed();
            initializeTaxCalculators();
        }

        // Tax Compliance Functions
        function initializeTaxCalculators() {
            // Add event listeners for real-time calculations
            const vatAmount = document.getElementById('vatAmount');
            const vatType = document.getElementById('vatType');
            const corporateIncome = document.getElementById('corporateIncome');
            const companyType = document.getElementById('companyType');
            const employeeSalary = document.getElementById('employeeSalary');
            const employeeCount = document.getElementById('employeeCount');

            [vatAmount, vatType].forEach(el => {
                if (el) el.addEventListener('input', calculateVAT);
            });

            [corporateIncome, companyType].forEach(el => {
                if (el) el.addEventListener('input', updateCorporateTaxCalculation);
            });

            [employeeSalary, employeeCount].forEach(el => {
                if (el) el.addEventListener('input', calculateEPFETF);
            });
        }

        function calculateVAT() {
            const amount = parseFloat(document.getElementById('vatAmount').value) || 0;
            const vatRate = parseFloat(document.getElementById('vatType').value) || 0;
            
            let vatAmount = 0;
            let total = amount;
            
            if (vatRate > 0) {
                vatAmount = amount * (vatRate / 100);
                total = amount + vatAmount;
            }
            
            document.getElementById('vatCalculated').textContent = `LKR ${vatAmount.toLocaleString()}`;
            document.getElementById('vatTotal').textContent = `LKR ${total.toLocaleString()}`;
        }

        function updateCorporateTaxCalculation() {
            const income = parseFloat(document.getElementById('corporateIncome').value) || 0;
            const taxRate = parseFloat(document.getElementById('companyType').value) || 24;
            
            const taxAmount = income * (taxRate / 100);
            
            document.getElementById('corporateRate').textContent = `${taxRate}%`;
            document.getElementById('corporateTaxAmount').textContent = `LKR ${taxAmount.toLocaleString()}`;
        }

        function calculateEPFETF() {
            const salary = parseFloat(document.getElementById('employeeSalary').value) || 0;
            const count = parseInt(document.getElementById('employeeCount').value) || 1;
            
            const employeeEPF = salary * 0.08 * count;
            const employerEPF = salary * 0.12 * count;
            const employerETF = salary * 0.03 * count;
            const total = salary * count + employerEPF + employerETF;
            
            document.getElementById('employeeEPF').textContent = `LKR ${employeeEPF.toLocaleString()}`;
            document.getElementById('employerEPF').textContent = `LKR ${employerEPF.toLocaleString()}`;
            document.getElementById('employerETF').textContent = `LKR ${employerETF.toLocaleString()}`;
            document.getElementById('totalEPFETF').textContent = `LKR ${total.toLocaleString()}`;
        }

        function manageVATFiling() {
            showTaxModal('VAT Filing', 'Prepare and submit your VAT return for January 2025. Due date: February 20, 2025.', 'Start VAT Filing', () => {
                window.open('https://www.ird.gov.lk', '_blank');
            });
        }

        function calculateCorporateTax() {
            updateCorporateTaxCalculation();
            showNotification('Corporate tax calculated successfully! Remember to file by March 31, 2025.', 'success');
        }

        function manageEPFETF() {
            showTaxModal('EPF/ETF Management', 'Manage employee EPF/ETF contributions and generate monthly returns.', 'View Employee Details', () => {
                document.querySelector('.employee-management-section').scrollIntoView({ behavior: 'smooth' });
            });
        }

        function trackWithholdingTax() {
            showTaxModal('Withholding Tax Report', 'View detailed withholding tax reports and payment tracking.', 'Generate Report', () => {
                showNotification('Withholding tax report generated successfully!', 'success');
            });
        }

        function addCustomReminder() {
            const reminderName = prompt('Enter reminder name:');
            const reminderDate = prompt('Enter due date (YYYY-MM-DD):');
            
            if (reminderName && reminderDate) {
                showNotification(`Custom reminder "${reminderName}" added for ${reminderDate}`, 'success');
            }
        }

        function startVATFiling() {
            showNotification('Redirecting to VAT filing portal...', 'info');
            setTimeout(() => {
                window.open('https://www.ird.gov.lk', '_blank');
            }, 1000);
        }

        function prepareCorporateTax() {
            showNotification('Corporate tax preparation tools loaded!', 'info');
        }

        function generateEPFETFReports() {
            showNotification('EPF/ETF reports generated successfully!', 'success');
        }

        function addEmployee() {
            showTaxModal('Add New Employee', 'Add a new employee to the EPF/ETF system.', 'Add Employee', () => {
                const empName = prompt('Enter employee name:');
                const empEPF = prompt('Enter EPF number:');
                const empSalary = prompt('Enter basic salary:');
                
                if (empName && empEPF && empSalary) {
                    addEmployeeToTable(empName, empEPF, empSalary);
                    showNotification(`Employee ${empName} added successfully!`, 'success');
                }
            });
        }

        function editEmployee(empId) {
            showNotification(`Editing employee ${empId}...`, 'info');
        }

        function deleteEmployee(empId) {
            if (confirm(`Are you sure you want to delete employee ${empId}?`)) {
                showNotification(`Employee ${empId} deleted successfully!`, 'success');
            }
        }

        function addEmployeeToTable(name, epfNumber, salary) {
            const tableBody = document.getElementById('employeeTableBody');
            const newRow = document.createElement('tr');
            const empId = 'EMP' + String(Date.now()).slice(-3);
            
            const employeeEPF = (parseFloat(salary) * 0.08).toLocaleString();
            const employerEPF = (parseFloat(salary) * 0.12).toLocaleString();
            const etf = (parseFloat(salary) * 0.03).toLocaleString();
            
            newRow.innerHTML = `
                <td>${empId}</td>
                <td>${name}</td>
                <td>${epfNumber}</td>
                <td>LKR ${parseFloat(salary).toLocaleString()}</td>
                <td>LKR ${employeeEPF}</td>
                <td>LKR ${employerEPF}</td>
                <td>LKR ${etf}</td>
                <td>
                    <button class="btn-small btn-edit" onclick="editEmployee('${empId}')">Edit</button>
                    <button class="btn-small btn-delete" onclick="deleteEmployee('${empId}')">Delete</button>
                </td>
            `;
            
            tableBody.appendChild(newRow);
        }

        function showTaxModal(title, message, buttonText, callback) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); z-index: 2000; display: flex;
                align-items: center; justify-content: center; backdrop-filter: blur(5px);
            `;
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 16px; padding: 2rem; max-width: 500px; width: 90%; text-align: center;">
                    <h3 style="margin-bottom: 1rem; color: var(--primary-color);">${title}</h3>
                    <p style="color: var(--gray-600); margin-bottom: 2rem; line-height: 1.6;">${message}</p>
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button onclick="this.closest('[style*=\"backdrop-filter\"]').remove()" 
                                style="flex: 1; background: var(--gray-300); color: var(--gray-700); border: none; padding: 1rem; border-radius: 8px; cursor: pointer;">
                            Cancel
                        </button>
                        <button onclick="(${callback.toString()})(); this.closest('[style*=\"backdrop-filter\"]').remove();" 
                                style="flex: 1; background: var(--primary-color); color: white; border: none; padding: 1rem; border-radius: 8px; cursor: pointer; font-weight: 600;">
                            ${buttonText}
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? 'var(--success-color)' : 
                           type === 'error' ? 'var(--error-color)' : 
                           type === 'info' ? 'var(--primary-color)' : 'var(--warning-color)';
            
            notification.style.cssText = `
                position: fixed; top: 20px; right: 20px; background: ${bgColor};
                color: white; padding: 1rem 1.5rem; border-radius: 8px;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1); z-index: 1000;
                animation: slideInRight 0.3s ease-out;
            `;
            
            notification.innerHTML = `<i class="fas fa-info-circle"></i> ${message}`;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 4000);
        }

        function loadCompanyData() {
            const storedData = localStorage.getItem('myTracksyCompany');
            if (storedData) {
                companyData = JSON.parse(storedData);
                applyCompanyTheme(companyData);
                updateCompanyProfile(companyData);
                updateIndustrySpecificContent(companyData.category);
            } else {
                // Redirect to setup if no company data
                window.location.href = 'company-setup.html';
            }
        }

        function applyCompanyTheme(company) {
            const body = document.body;
            
            // Remove existing theme classes
            body.classList.remove('theme-technology', 'theme-healthcare', 'theme-legal', 'theme-manufacturing', 'theme-food', 'theme-retail', 'theme-service', 'theme-finance', 'theme-education');
            
            // Add new theme class
            if (company.category) {
                body.classList.add(`theme-${company.category}`);
            }

            // Apply custom brand colors
            if (company.primaryColor) {
                document.documentElement.style.setProperty('--primary-color', company.primaryColor);
            }
            if (company.secondaryColor) {
                document.documentElement.style.setProperty('--secondary-color', company.secondaryColor);
            }
        }

        function updateCompanyProfile(company) {
            // Update logo in navbar
            const navLogo = document.getElementById('companyLogo');
            if (company.logo && company.logo !== 'undefined') {
                navLogo.innerHTML = `
                    <img src="${company.logo}" style="width: 40px; height: 40px; border-radius: 50%; object-fit: contain; margin-right: 0.5rem;">
                    ${company.name || 'MyTracksy'}
                `;
            } else {
                navLogo.innerHTML = `
                    <i class="fas fa-chart-line"></i>
                    ${company.name || 'MyTracksy'}
                `;
            }

            // Update profile information
            document.getElementById('companyName').textContent = company.name || 'Company Name';
            document.getElementById('companyTagline').textContent = company.tagline || 'Your company tagline here';
            document.getElementById('companyFounded').textContent = company.founded || '2020';
            document.getElementById('companyEmployees').textContent = company.employees || '1-10 employees';
            document.getElementById('companyLocation').textContent = company.location || 'Location';
            document.getElementById('companyCategory').textContent = company.category ? company.category.charAt(0).toUpperCase() + company.category.slice(1) : 'Business';
            document.getElementById('companyDescription').textContent = company.description || 'Company description will appear here...';

            // Update logo display
            const logoDisplay = document.getElementById('companyLogoDisplay');
            if (company.logo && company.logo !== 'undefined') {
                logoDisplay.innerHTML = `<img src="${company.logo}" alt="Company Logo">`;
            } else {
                logoDisplay.innerHTML = '<i class="fas fa-building"></i>';
            }

            // Update social links
            updateSocialLinks(company.socialMedia || {});
        }

        function updateSocialLinks(socialMedia) {
            const socialContainer = document.getElementById('socialLinks');
            socialContainer.innerHTML = '';

            const socialPlatforms = [
                { key: 'linkedin', icon: 'fab fa-linkedin-in', class: 'linkedin' },
                { key: 'facebook', icon: 'fab fa-facebook-f', class: 'facebook' },
                { key: 'instagram', icon: 'fab fa-instagram', class: 'instagram' },
                { key: 'twitter', icon: 'fab fa-twitter', class: 'twitter' },
                { key: 'website', icon: 'fas fa-globe', class: 'website' }
            ];

            socialPlatforms.forEach(platform => {
                if (socialMedia[platform.key]) {
                    const link = document.createElement('a');
                    link.href = socialMedia[platform.key];
                    link.target = '_blank';
                    link.className = `social-link ${platform.class}`;
                    link.innerHTML = `<i class="${platform.icon}"></i>`;
                    socialContainer.appendChild(link);
                }
            });
        }

        function updateIndustrySpecificContent(category) {
            const industryData = getIndustrySpecificData(category);
            
            // Update industry-specific KPI
            document.getElementById('industryKpiValue').textContent = industryData.kpiValue;
            document.getElementById('industryKpiLabel').textContent = industryData.kpiLabel;
            document.getElementById('industryKpiChange').textContent = industryData.kpiChange;
            
            // Update industry analytics title
            document.getElementById('industryAnalyticsTitle').innerHTML = `
                <i class="${industryData.icon}"></i>
                ${industryData.analyticsTitle}
            `;

            // Update KPI icon
            const kpiIcon = document.querySelector('#industryKpi .kpi-icon i');
            kpiIcon.className = industryData.icon;
        }

        function getIndustrySpecificData(category) {
            const industryData = {
                technology: {
                    kpiValue: '12.5K',
                    kpiLabel: 'Lines of Code',
                    kpiChange: '+15% this sprint',
                    icon: 'fas fa-code',
                    analyticsTitle: 'Development Metrics'
                },
                healthcare: {
                    kpiValue: '847',
                    kpiLabel: 'Patients Served',
                    kpiChange: '+8.2% this month',
                    icon: 'fas fa-user-md',
                    analyticsTitle: 'Patient Analytics'
                },
                legal: {
                    kpiValue: '156',
                    kpiLabel: 'Billable Hours',
                    kpiChange: '+12% this month',
                    icon: 'fas fa-gavel',
                    analyticsTitle: 'Case Analytics'
                },
                manufacturing: {
                    kpiValue: '2.8K',
                    kpiLabel: 'Units Produced',
                    kpiChange: '+5.4% this quarter',
                    icon: 'fas fa-industry',
                    analyticsTitle: 'Production Metrics'
                },
                food: {
                    kpiValue: '1,245',
                    kpiLabel: 'Orders Served',
                    kpiChange: '+18% this week',
                    icon: 'fas fa-utensils',
                    analyticsTitle: 'Restaurant Analytics'
                },
                retail: {
                    kpiValue: '3.2K',
                    kpiLabel: 'Products Sold',
                    kpiChange: '+22% this month',
                    icon: 'fas fa-shopping-bag',
                    analyticsTitle: 'Sales Analytics'
                },
                service: {
                    kpiValue: '456',
                    kpiLabel: 'Clients Served',
                    kpiChange: '+14% this month',
                    icon: 'fas fa-plane',
                    analyticsTitle: 'Service Analytics'
                },
                finance: {
                    kpiValue: 'LKR 125M',
                    kpiLabel: 'Assets Under Management',
                    kpiChange: '+9.8% this quarter',
                    icon: 'fas fa-chart-line',
                    analyticsTitle: 'Financial Performance'
                },
                education: {
                    kpiValue: '2,340',
                    kpiLabel: 'Students Enrolled',
                    kpiChange: '+6.5% this semester',
                    icon: 'fas fa-graduation-cap',
                    analyticsTitle: 'Educational Metrics'
                }
            };

            return industryData[category] || {
                kpiValue: '94',
                kpiLabel: 'Industry Score',
                kpiChange: '+2.1% this quarter',
                icon: 'fas fa-star',
                analyticsTitle: 'Industry Analytics'
            };
        }

        function setupCharts() {
            // Revenue Trends Chart
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            charts.revenue = new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Revenue (LKR)',
                        data: [1200000, 1350000, 1500000, 1800000, 2100000, 2500000],
                        borderColor: getComputedStyle(document.documentElement).getPropertyValue('--primary-color'),
                        backgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--primary-color') + '20',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return 'LKR ' + (value / 1000000).toFixed(1) + 'M';
                                }
                            }
                        }
                    }
                }
            });

            // Expense Breakdown Chart
            const expenseCtx = document.getElementById('expenseChart').getContext('2d');
            charts.expense = new Chart(expenseCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Salaries', 'Office Rent', 'Marketing', 'Utilities', 'Travel', 'Other'],
                    datasets: [{
                        data: [45, 20, 15, 8, 7, 5],
                        backgroundColor: [
                            '#2563eb',
                            '#059669',
                            '#dc2626',
                            '#ea580c',
                            '#7c3aed',
                            '#6b7280'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Industry Chart
            const industryCtx = document.getElementById('industryChart').getContext('2d');
            charts.industry = new Chart(industryCtx, {
                type: 'bar',
                data: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    datasets: [{
                        label: 'Performance',
                        data: [85, 88, 91, 94],
                        backgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--primary-color'),
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }

        function loadActivityFeed() {
            const activities = [
                {
                    icon: 'fas fa-plus-circle',
                    title: 'New expense added: Office supplies',
                    time: '2 minutes ago',
                    type: 'expense'
                },
                {
                    icon: 'fas fa-chart-line',
                    title: 'Monthly revenue target achieved',
                    time: '1 hour ago',
                    type: 'achievement'
                },
                {
                    icon: 'fas fa-user-plus',
                    title: 'New team member onboarded',
                    time: '3 hours ago',
                    type: 'team'
                },
                {
                    icon: 'fas fa-file-invoice',
                    title: 'Invoice #INV-2025-001 generated',
                    time: '5 hours ago',
                    type: 'invoice'
                },
                {
                    icon: 'fas fa-bell',
                    title: 'Budget alert: Marketing expenses 80% utilized',
                    time: '1 day ago',
                    type: 'alert'
                },
                {
                    icon: 'fas fa-handshake',
                    title: 'New client contract signed',
                    time: '2 days ago',
                    type: 'business'
                }
            ];

            const activityFeed = document.getElementById('activityFeed');
            activityFeed.innerHTML = '';

            activities.forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                
                activityItem.innerHTML = `
                    <div class="activity-icon">
                        <i class="${activity.icon}"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">${activity.title}</div>
                        <div class="activity-time">${activity.time}</div>
                    </div>
                `;
                
                activityFeed.appendChild(activityItem);
            });
        }
    </script>
</body>
</html>